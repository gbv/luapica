lua-pica
--------
Lua library to handle PICA+ data

Installation
------------
Copy the contents of the 'src' directory (at least 'pica.lua') into a 
location on your LUA_PATH.

Use
---
    require 'pica'

    -- parses a PICA+ record
    input = io.read("*all")
    record = PicaRecord.parse( input )

    -- get the first matching field
    eki = record:first('007G')   -- alternatively: record["007G"]
    if eki.ok then
        eki = eki['c']..eki['0'] -- get subfield values or ''
    end

    -- directly get a subfield value (or the empty string)
    year = record.first('001@','a')

Examples
--------
The file 'src/picaconv.lua' contains a command line script to convert
PICA+ records. The first command line argument must be a concrete lua 
conversion script somewhere where lua can find it. The shell script 
'picaconv' sets the LUA_PATH variable for this purpose, so you can you
use all conversion scripts in the 'scripts' directory like this:

    $ picaconv <script> <picafile>

Feedback and updates
--------------------
please visit https://github.com/nichtich/lua-pica

